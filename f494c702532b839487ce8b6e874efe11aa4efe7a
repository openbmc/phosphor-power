{
  "comments": [
    {
      "key": {
        "uuid": "41164383_ceb10bf3",
        "filename": "phosphor-power-supply/test/power_supply_tests.cpp",
        "patchSetId": 4
      },
      "lineNbr": 156,
      "author": {
        "id": 1000331
      },
      "writtenOn": "2021-10-22T00:11:22Z",
      "side": 1,
      "message": "I\u0027m confused by this.  In looking at analyze(), doesn\u0027t it skip reading STATUS_MFR AND STATUS_INPUT when STATUS_WORD is 0?\n\nIf I am misunderstanding that part, you mention 3 in the comment but only have Times(2)?",
      "range": {
        "startLine": 156,
        "startChar": 17,
        "endLine": 156,
        "endChar": 34
      },
      "revId": "f494c702532b839487ce8b6e874efe11aa4efe7a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f8ab9691_cf15a3b1",
        "filename": "phosphor-power-supply/test/power_supply_tests.cpp",
        "patchSetId": 4
      },
      "lineNbr": 156,
      "author": {
        "id": 1000085
      },
      "writtenOn": "2021-10-22T19:18:54Z",
      "side": 1,
      "message": "I must have messed something up in moving and updating things. I wonder if this isn\u0027t one of those \"wait, what did vim just do\" moments I had.\n\nIf STATUS_WORD is 0, there are no faults, so STATUS_INPUT and STATUS_MFR will not be read. Below, there is one call to analyze(), the function doing the read of STATUS_WORD. There should just be one read, of STATUS_WORD, which returns 0.",
      "parentUuid": "41164383_ceb10bf3",
      "range": {
        "startLine": 156,
        "startChar": 17,
        "endLine": 156,
        "endChar": 34
      },
      "revId": "f494c702532b839487ce8b6e874efe11aa4efe7a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5ee8c395_8fc1c43d",
        "filename": "phosphor-power-supply/test/power_supply_tests.cpp",
        "patchSetId": 4
      },
      "lineNbr": 156,
      "author": {
        "id": 1000085
      },
      "writtenOn": "2021-10-22T19:38:22Z",
      "side": 1,
      "message": "Oops! I see what happened here.\n\nI created the object, and then indicated that the presence GPIO would return a value indicating the power supply is missing.\n\nI then add in the expectation that it changes to present, which will result in clearing faults, and part of that does a read of \"in1_input\" as that was  expected to result in the CLEAR_FAULTS command being sent through the hwmon /pmbus operations in the base/core code. That read does not care what value is returned, so the return of 0 just worked out okay.\n\nSo, what should happen is analyze() gets called, it updates the presence status, the presence changed from missing to present, so that results in writing the ON_OFF_CONFIG and reading the in1_input as part of the clearing of faults, the analyze function then moves onto reading STATUS_WORD, since the power supply is present.\n\nI am missing the expected read of in1_input.",
      "parentUuid": "f8ab9691_cf15a3b1",
      "range": {
        "startLine": 156,
        "startChar": 17,
        "endLine": 156,
        "endChar": 34
      },
      "revId": "f494c702532b839487ce8b6e874efe11aa4efe7a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9ece1e4b_56edb611",
        "filename": "phosphor-power-supply/test/power_supply_tests.cpp",
        "patchSetId": 4
      },
      "lineNbr": 180,
      "author": {
        "id": 1000331
      },
      "writtenOn": "2021-10-22T00:11:22Z",
      "side": 1,
      "message": "Should this be deleted?",
      "range": {
        "startLine": 177,
        "startChar": 0,
        "endLine": 180,
        "endChar": 36
      },
      "revId": "f494c702532b839487ce8b6e874efe11aa4efe7a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fd38f985_c8e92fa2",
        "filename": "phosphor-power-supply/test/power_supply_tests.cpp",
        "patchSetId": 4
      },
      "lineNbr": 180,
      "author": {
        "id": 1000085
      },
      "writtenOn": "2021-10-22T19:18:54Z",
      "side": 1,
      "message": "Oops...I think I removed it in a later commit, but should be removed from this one.",
      "parentUuid": "9ece1e4b_56edb611",
      "range": {
        "startLine": 177,
        "startChar": 0,
        "endLine": 180,
        "endChar": 36
      },
      "revId": "f494c702532b839487ce8b6e874efe11aa4efe7a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "43e131f7_aa4487db",
        "filename": "phosphor-power-supply/test/power_supply_tests.cpp",
        "patchSetId": 4
      },
      "lineNbr": 233,
      "author": {
        "id": 1000331
      },
      "writtenOn": "2021-10-22T00:11:22Z",
      "side": 1,
      "message": "Missing Times(2)?",
      "revId": "f494c702532b839487ce8b6e874efe11aa4efe7a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "78a9e023_163ee9ba",
        "filename": "phosphor-power-supply/test/power_supply_tests.cpp",
        "patchSetId": 4
      },
      "lineNbr": 233,
      "author": {
        "id": 1000085
      },
      "writtenOn": "2021-10-22T19:18:54Z",
      "side": 1,
      "message": "Huh... I suppose. There are two WillOnce parts, but missed the Times(2) part.",
      "parentUuid": "43e131f7_aa4487db",
      "revId": "f494c702532b839487ce8b6e874efe11aa4efe7a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "53805662_d9edebba",
        "filename": "phosphor-power-supply/test/power_supply_tests.cpp",
        "patchSetId": 4
      },
      "lineNbr": 254,
      "author": {
        "id": 1000331
      },
      "writtenOn": "2021-10-22T00:11:22Z",
      "side": 1,
      "message": "Missing Times(2)?",
      "revId": "f494c702532b839487ce8b6e874efe11aa4efe7a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "798971d7_f9be94fe",
        "filename": "phosphor-power-supply/test/power_supply_tests.cpp",
        "patchSetId": 4
      },
      "lineNbr": 254,
      "author": {
        "id": 1000085
      },
      "writtenOn": "2021-10-22T19:18:54Z",
      "side": 1,
      "message": "Ditto",
      "parentUuid": "53805662_d9edebba",
      "revId": "f494c702532b839487ce8b6e874efe11aa4efe7a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    }
  ]
}