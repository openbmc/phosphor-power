{
  "comments": [
    {
      "key": {
        "uuid": "4f57bbe1_2ef90d7c",
        "filename": "phosphor-power-supply/psu_manager.cpp",
        "patchSetId": 2
      },
      "lineNbr": 86,
      "author": {
        "id": 1000008
      },
      "writtenOn": "2021-03-08T19:16:31Z",
      "side": 1,
      "message": "I think it\u0027s usually recommended that one always adds the match for interfacesAdded before doing the get.  That\u0027s because there is a very small window where the signal can come in after the fail but before your code has gotten a chance to create the match.",
      "revId": "06237749aba0e1308c7e8feafdb8853a969648c7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5fd061e9_8912870b",
        "filename": "phosphor-power-supply/psu_manager.cpp",
        "patchSetId": 2
      },
      "lineNbr": 86,
      "author": {
        "id": 1000331
      },
      "writtenOn": "2021-03-08T20:57:32Z",
      "side": 1,
      "message": "+1",
      "parentUuid": "4f57bbe1_2ef90d7c",
      "revId": "06237749aba0e1308c7e8feafdb8853a969648c7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fc897ecd_c0c329ca",
        "filename": "phosphor-power-supply/psu_manager.cpp",
        "patchSetId": 2
      },
      "lineNbr": 86,
      "author": {
        "id": 1000085
      },
      "writtenOn": "2021-03-08T22:34:03Z",
      "side": 1,
      "message": "Yeah, I think I had problems with that in the power supply class, so the properties changed and interfaces added is before the property get/read.",
      "parentUuid": "5fd061e9_8912870b",
      "revId": "06237749aba0e1308c7e8feafdb8853a969648c7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3db0ee12_3bc946d2",
        "filename": "phosphor-power-supply/psu_manager.cpp",
        "patchSetId": 2
      },
      "lineNbr": 86,
      "author": {
        "id": 1000003
      },
      "writtenOn": "2021-03-09T19:24:28Z",
      "side": 1,
      "message": "Done. Makes sense, moved it to the beginning with a comment.",
      "parentUuid": "fc897ecd_c0c329ca",
      "revId": "06237749aba0e1308c7e8feafdb8853a969648c7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f50441d5_eac02255",
        "filename": "phosphor-power-supply/psu_manager.cpp",
        "patchSetId": 2
      },
      "lineNbr": 91,
      "author": {
        "id": 1000085
      },
      "writtenOn": "2021-03-08T22:34:03Z",
      "side": 1,
      "message": "If the recommended interfacesAdded is done first, we need a try/catch above this in the stack somewhere?",
      "range": {
        "startLine": 91,
        "startChar": 12,
        "endLine": 91,
        "endChar": 74
      },
      "revId": "06237749aba0e1308c7e8feafdb8853a969648c7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f97ccdf9_7cae09c2",
        "filename": "phosphor-power-supply/psu_manager.cpp",
        "patchSetId": 2
      },
      "lineNbr": 91,
      "author": {
        "id": 1000003
      },
      "writtenOn": "2021-03-09T19:24:28Z",
      "side": 1,
      "message": "This will be caught by the catch{} below (i printed the e.what() when EM wasn\u0027t running):\n\nMar 09 18:28:33 rainier systemd[1]: Started Phosphor Power Supply Monitor.\nMar 09 18:28:33 rainier phosphor-psu-monitor[915]: Supported Configuration Not Found",
      "parentUuid": "f50441d5_eac02255",
      "range": {
        "startLine": 91,
        "startChar": 12,
        "endLine": 91,
        "endChar": 74
      },
      "revId": "06237749aba0e1308c7e8feafdb8853a969648c7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a9496402_fd16b1ab",
        "filename": "phosphor-power-supply/psu_manager.cpp",
        "patchSetId": 2
      },
      "lineNbr": 115,
      "author": {
        "id": 1000331
      },
      "writtenOn": "2021-03-08T20:57:32Z",
      "side": 1,
      "message": "Nit: I don\u0027t think this is required.  I didn\u0027t use the std::mem_fn() wrapper in phosphor-regulators/src/manager.cpp and it seemed to work fine.",
      "range": {
        "startLine": 115,
        "startChar": 26,
        "endLine": 115,
        "endChar": 38
      },
      "revId": "06237749aba0e1308c7e8feafdb8853a969648c7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e9e9320c_18c83a36",
        "filename": "phosphor-power-supply/psu_manager.cpp",
        "patchSetId": 2
      },
      "lineNbr": 115,
      "author": {
        "id": 1000085
      },
      "writtenOn": "2021-03-08T22:34:03Z",
      "side": 1,
      "message": "+1 - I recently had the same suggested changed and it worked fine without std::mem_fn().",
      "parentUuid": "a9496402_fd16b1ab",
      "range": {
        "startLine": 115,
        "startChar": 26,
        "endLine": 115,
        "endChar": 38
      },
      "revId": "06237749aba0e1308c7e8feafdb8853a969648c7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6aba3d36_7732c669",
        "filename": "phosphor-power-supply/psu_manager.cpp",
        "patchSetId": 2
      },
      "lineNbr": 115,
      "author": {
        "id": 1000003
      },
      "writtenOn": "2021-03-09T19:24:28Z",
      "side": 1,
      "message": "Done. Ah!, good info, removed std::mem_fn() from the match at the beginning of the function.",
      "parentUuid": "e9e9320c_18c83a36",
      "range": {
        "startLine": 115,
        "startChar": 26,
        "endLine": 115,
        "endChar": 38
      },
      "revId": "06237749aba0e1308c7e8feafdb8853a969648c7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "22d28599_8e5b3ba7",
        "filename": "phosphor-power-supply/psu_manager.cpp",
        "patchSetId": 2
      },
      "lineNbr": 122,
      "author": {
        "id": 1000331
      },
      "writtenOn": "2021-03-08T20:57:32Z",
      "side": 1,
      "message": "Do you think a try/catch is required here to avoid the app exiting due to an uncaught sdbusplus exception?\n\nI\u0027m not sure if an exception could happen, but it seems possible.  For example, you are registering to get all interfacesAdded signals from EntityManager.  Some of those signals are for different interfaces than the one you are looking for, and those interfaces have properties whose values are not of type uint64_t.  I\u0027m not sure what the sdbusplus wrapper does if we specify std::variant\u003cuint64_t\u003e\u003e and the actual property type is vector\u003cstring\u003e.",
      "revId": "06237749aba0e1308c7e8feafdb8853a969648c7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c69b06dd_eb0ab320",
        "filename": "phosphor-power-supply/psu_manager.cpp",
        "patchSetId": 2
      },
      "lineNbr": 122,
      "author": {
        "id": 1000003
      },
      "writtenOn": "2021-03-09T19:24:28Z",
      "side": 1,
      "message": "Done. Sure, added a try/catch block, rare scenario like you mentioned, but possible.",
      "parentUuid": "22d28599_8e5b3ba7",
      "revId": "06237749aba0e1308c7e8feafdb8853a969648c7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "09fd3997_1115c0d1",
        "filename": "phosphor-power-supply/psu_manager.hpp",
        "patchSetId": 2
      },
      "lineNbr": 58,
      "author": {
        "id": 1000331
      },
      "writtenOn": "2021-03-08T20:57:32Z",
      "side": 1,
      "message": "This parameter does not exist",
      "revId": "06237749aba0e1308c7e8feafdb8853a969648c7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "632621ed_0a440ed0",
        "filename": "phosphor-power-supply/psu_manager.hpp",
        "patchSetId": 2
      },
      "lineNbr": 58,
      "author": {
        "id": 1000003
      },
      "writtenOn": "2021-03-09T19:24:28Z",
      "side": 1,
      "message": "Done. Ooops, copy/paste error, removed.",
      "parentUuid": "09fd3997_1115c0d1",
      "revId": "06237749aba0e1308c7e8feafdb8853a969648c7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    }
  ]
}