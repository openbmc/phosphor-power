{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "3d9c5076_b8d34900",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 26,
      "author": {
        "id": 1000331
      },
      "writtenOn": "2022-11-29T22:19:39Z",
      "side": 1,
      "message": "This is an excellent description of a complex issue/fix.",
      "revId": "8baf4fc79c43d288f966b90ef5ba6e4bf24f920f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "da0bd332_9d644b64",
        "filename": "phosphor-power-supply/power_supply.cpp",
        "patchSetId": 6
      },
      "lineNbr": 207,
      "author": {
        "id": 1000331
      },
      "writtenOn": "2022-11-29T22:19:39Z",
      "side": 1,
      "message": "Should acFault be set to 0 here since a new PSU was plugged in?",
      "revId": "8baf4fc79c43d288f966b90ef5ba6e4bf24f920f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "50999edd_22bf6024",
        "filename": "phosphor-power-supply/power_supply.cpp",
        "patchSetId": 6
      },
      "lineNbr": 524,
      "author": {
        "id": 1000318
      },
      "writtenOn": "2022-11-29T20:58:01Z",
      "side": 1,
      "message": "nit. same typo, sorry I didn\u0027t catch it last time",
      "revId": "8baf4fc79c43d288f966b90ef5ba6e4bf24f920f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6596dcc5_07194a7b",
        "filename": "phosphor-power-supply/power_supply.cpp",
        "patchSetId": 6
      },
      "lineNbr": 524,
      "author": {
        "id": 1000387
      },
      "writtenOn": "2022-11-30T23:42:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "50999edd_22bf6024",
      "revId": "8baf4fc79c43d288f966b90ef5ba6e4bf24f920f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ae2d8269_ccba1828",
        "filename": "phosphor-power-supply/power_supply.cpp",
        "patchSetId": 6
      },
      "lineNbr": 617,
      "author": {
        "id": 1000318
      },
      "writtenOn": "2022-11-29T20:58:01Z",
      "side": 1,
      "message": "nit. same typo, sorry I didn\u0027t catch it last time.",
      "revId": "8baf4fc79c43d288f966b90ef5ba6e4bf24f920f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "521ddfd0_cd816710",
        "filename": "phosphor-power-supply/power_supply.cpp",
        "patchSetId": 6
      },
      "lineNbr": 617,
      "author": {
        "id": 1000331
      },
      "writtenOn": "2022-11-29T22:19:39Z",
      "side": 1,
      "message": "It is unfortunate this has to be in two places.  I wish the analyze*() methods were called all the time vs. only when statusWord was non-zero.  I think it would simplify some stuff.  However, that is the existing design and not related to this commit.",
      "revId": "8baf4fc79c43d288f966b90ef5ba6e4bf24f920f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cdd87a91_9f75e053",
        "filename": "phosphor-power-supply/power_supply.cpp",
        "patchSetId": 6
      },
      "lineNbr": 617,
      "author": {
        "id": 1000387
      },
      "writtenOn": "2022-11-30T23:42:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ae2d8269_ccba1828",
      "revId": "8baf4fc79c43d288f966b90ef5ba6e4bf24f920f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "078afcec_b6fe73df",
        "filename": "phosphor-power-supply/power_supply.cpp",
        "patchSetId": 6
      },
      "lineNbr": 774,
      "author": {
        "id": 1000331
      },
      "writtenOn": "2022-11-29T22:19:39Z",
      "side": 1,
      "message": "Do we need to set acFault to 0 here since a new PSU was plugged?",
      "revId": "8baf4fc79c43d288f966b90ef5ba6e4bf24f920f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "417bfba4_03bbb144",
        "filename": "phosphor-power-supply/power_supply.cpp",
        "patchSetId": 6
      },
      "lineNbr": 774,
      "author": {
        "id": 1000387
      },
      "writtenOn": "2022-11-30T23:28:59Z",
      "side": 1,
      "message": "I was thinking no, because the PSU has to be unplugged from AC to added to the system, it will start in AC fault which should expire naturally.",
      "parentUuid": "078afcec_b6fe73df",
      "revId": "8baf4fc79c43d288f966b90ef5ba6e4bf24f920f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f3ef9460_096b6d6a",
        "filename": "phosphor-power-supply/power_supply.cpp",
        "patchSetId": 6
      },
      "lineNbr": 810,
      "author": {
        "id": 1000331
      },
      "writtenOn": "2022-11-29T22:19:39Z",
      "side": 1,
      "message": "I wonder why this code path doesn\u0027t have to clear fault faults?",
      "revId": "8baf4fc79c43d288f966b90ef5ba6e4bf24f920f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "384bf70c_b16ba3f8",
        "filename": "phosphor-power-supply/power_supply.cpp",
        "patchSetId": 6
      },
      "lineNbr": 810,
      "author": {
        "id": 1000387
      },
      "writtenOn": "2022-11-30T23:28:59Z",
      "side": 1,
      "message": "It\u0027s only called from the constructor, so no poll to set faults yet.",
      "parentUuid": "f3ef9460_096b6d6a",
      "revId": "8baf4fc79c43d288f966b90ef5ba6e4bf24f920f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "009ffb8d_4aad5a93",
        "filename": "phosphor-power-supply/power_supply.hpp",
        "patchSetId": 6
      },
      "lineNbr": 49,
      "author": {
        "id": 1000318
      },
      "writtenOn": "2022-11-29T20:58:01Z",
      "side": 1,
      "message": "since we have to check if every present psu either is reporting an ac loss (based on acFault, not DEGLITCH_LIMIT) OR a pgood fail (based on PGOOD_FAIL_LIMIT in hasPgoodFault()) in case the psu just reports the pgood fail during a brownout, we have to make sure AC_FAULT_LIMIT is greater than PGOOD_DEGLITCH_LIMIT, as you have above.\nCan you please add a comment so if in the future we adjust PGOOD_DEGLITCH_LIMIT for whatever reason, we don\u0027t inadvertently break PLD/APR if we don\u0027t bump up AC_FAULT_LIMIT accordingly?",
      "revId": "8baf4fc79c43d288f966b90ef5ba6e4bf24f920f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "25d67ec1_057944bb",
        "filename": "phosphor-power-supply/power_supply.hpp",
        "patchSetId": 6
      },
      "lineNbr": 49,
      "author": {
        "id": 1000387
      },
      "writtenOn": "2022-11-30T23:42:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "009ffb8d_4aad5a93",
      "revId": "8baf4fc79c43d288f966b90ef5ba6e4bf24f920f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4baf8160_27e9a1a7",
        "filename": "phosphor-power-supply/power_supply.hpp",
        "patchSetId": 6
      },
      "lineNbr": 699,
      "author": {
        "id": 1000331
      },
      "writtenOn": "2022-11-29T22:19:39Z",
      "side": 1,
      "message": "Grammar Nit: Need a verb for this sentence.  s/forming/forms/",
      "range": {
        "startLine": 699,
        "startChar": 41,
        "endLine": 699,
        "endChar": 49
      },
      "revId": "8baf4fc79c43d288f966b90ef5ba6e4bf24f920f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "65ed712c_b59df53e",
        "filename": "phosphor-power-supply/power_supply.hpp",
        "patchSetId": 6
      },
      "lineNbr": 699,
      "author": {
        "id": 1000387
      },
      "writtenOn": "2022-11-30T23:42:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4baf8160_27e9a1a7",
      "range": {
        "startLine": 699,
        "startChar": 41,
        "endLine": 699,
        "endChar": 49
      },
      "revId": "8baf4fc79c43d288f966b90ef5ba6e4bf24f920f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "738c3461_81bc3d0d",
        "filename": "phosphor-power-supply/psu_manager.cpp",
        "patchSetId": 6
      },
      "lineNbr": 109,
      "author": {
        "id": 1000331
      },
      "writtenOn": "2022-11-29T22:19:39Z",
      "side": 1,
      "message": "The pseq code waits for a period of time for the pgood to be true right?\n\nIf the PSU app is started (or re-started) during that wait, would it incorrectly set powerFaultOccurring to true here?",
      "revId": "8baf4fc79c43d288f966b90ef5ba6e4bf24f920f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1233580d_e90db564",
        "filename": "phosphor-power-supply/psu_manager.cpp",
        "patchSetId": 6
      },
      "lineNbr": 109,
      "author": {
        "id": 1000387
      },
      "writtenOn": "2022-11-30T23:28:59Z",
      "side": 1,
      "message": "That\u0027s correct, there\u0027s a window in the power on transition where the state is set but the pgood has not yet come on.\n\nThe power supply application should not be starting or restarting during a power on. That would be a problem by itself.\n\nWe could default powerFaultOccurring to false here. That would be more of a tradeoff than a fix.\n\nI\u0027d recommend not trying to figure out that the PSEQ is in a power on transition due to the complexity involved and it being a moving target.\n\nWe use powerFaultOccurring as part of the criteria to allow a brownout error to be issued and as part of the criteria to suppress fan and pgood PSU errors from being issued, so the consequence of it being temporarily wrong are not critically severe.",
      "parentUuid": "738c3461_81bc3d0d",
      "revId": "8baf4fc79c43d288f966b90ef5ba6e4bf24f920f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "549613d2_df862d93",
        "filename": "phosphor-power-supply/psu_manager.cpp",
        "patchSetId": 6
      },
      "lineNbr": 608,
      "author": {
        "id": 1000318
      },
      "writtenOn": "2022-11-29T20:58:01Z",
      "side": 1,
      "message": "you may have mentioned this before, but what is max time for powerFaultOccurring to be accurate, was it within 3 seconds?\n\nwill \u0027powerOn\u0027 still be on the whole 3 seconds, when will that get cleared?",
      "revId": "8baf4fc79c43d288f966b90ef5ba6e4bf24f920f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1fd52cfd_f878c162",
        "filename": "phosphor-power-supply/psu_manager.cpp",
        "patchSetId": 6
      },
      "lineNbr": 608,
      "author": {
        "id": 1000387
      },
      "writtenOn": "2022-11-29T22:09:21Z",
      "side": 1,
      "message": "Correct, up to 3 seconds for the pgood fail to be recognized and powerFaultOccurring to be set.\n\npowerOn will be on the whole time. It will not be false until the power state change is requested.",
      "parentUuid": "549613d2_df862d93",
      "revId": "8baf4fc79c43d288f966b90ef5ba6e4bf24f920f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "92f75efd_9cc0786f",
        "filename": "phosphor-power-supply/psu_manager.cpp",
        "patchSetId": 6
      },
      "lineNbr": 610,
      "author": {
        "id": 1000318
      },
      "writtenOn": "2022-11-29T20:58:01Z",
      "side": 1,
      "message": "since the present/vin checking was moved to the isBrownout() function, what is \"additional data\" being used for now?  does the lib just default it to an empty string?",
      "revId": "8baf4fc79c43d288f966b90ef5ba6e4bf24f920f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6f976260_2b8d6138",
        "filename": "phosphor-power-supply/psu_manager.cpp",
        "patchSetId": 6
      },
      "lineNbr": 610,
      "author": {
        "id": 1000387
      },
      "writtenOn": "2022-11-29T22:09:21Z",
      "side": 1,
      "message": "Right now it\u0027s an empty set for the brownout error, so no extra name-value pairs will be put in the user data section. I could add anything we think could be useful.",
      "parentUuid": "92f75efd_9cc0786f",
      "revId": "8baf4fc79c43d288f966b90ef5ba6e4bf24f920f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e3159465_2b43292f",
        "filename": "phosphor-power-supply/psu_manager.cpp",
        "patchSetId": 6
      },
      "lineNbr": 610,
      "author": {
        "id": 1000331
      },
      "writtenOn": "2022-11-29T22:19:39Z",
      "side": 1,
      "message": "The default map ctor used on line 604 will result in an empty map with no keys/values.  So it shouldn\u0027t cause any problems.\n\nHowever Jim, do you think we want a count of the following for debug?\n* number of PSUs with an AC fault\n* number of PSUs with a PGOOD fault\n* number of PSUs that are not present\n\nIf so, isBrownout() could be enhanced to take additionalData as input and set the keys/values appropriately.",
      "parentUuid": "92f75efd_9cc0786f",
      "revId": "8baf4fc79c43d288f966b90ef5ba6e4bf24f920f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "62f14087_e6e2139a",
        "filename": "phosphor-power-supply/psu_manager.cpp",
        "patchSetId": 6
      },
      "lineNbr": 610,
      "author": {
        "id": 1000387
      },
      "writtenOn": "2022-11-30T23:42:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e3159465_2b43292f",
      "revId": "8baf4fc79c43d288f966b90ef5ba6e4bf24f920f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}