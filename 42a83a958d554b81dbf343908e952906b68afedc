{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "6dc6c1a6_29f27f94",
        "filename": "phosphor-power-supply/power_supply.cpp",
        "patchSetId": 2
      },
      "lineNbr": 571,
      "author": {
        "id": 1000331
      },
      "writtenOn": "2022-03-11T15:29:25Z",
      "side": 1,
      "message": "Nit: No reason to put a simple boolean var in parentheses here.",
      "range": {
        "startLine": 571,
        "startChar": 16,
        "endLine": 571,
        "endChar": 28
      },
      "revId": "42a83a958d554b81dbf343908e952906b68afedc",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "102139f0_3485bd93",
        "filename": "phosphor-power-supply/power_supply.cpp",
        "patchSetId": 2
      },
      "lineNbr": 571,
      "author": {
        "id": 1000085
      },
      "writtenOn": "2022-03-11T15:41:51Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "6dc6c1a6_29f27f94",
      "range": {
        "startLine": 571,
        "startChar": 16,
        "endLine": 571,
        "endChar": 28
      },
      "revId": "42a83a958d554b81dbf343908e952906b68afedc",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5e2c8bf2_090b2914",
        "filename": "phosphor-power-supply/power_supply.cpp",
        "patchSetId": 2
      },
      "lineNbr": 578,
      "author": {
        "id": 1000318
      },
      "writtenOn": "2022-03-11T15:55:47Z",
      "side": 1,
      "message": "looks like we used to do this when AC came back:\n1. check 110v/220v to ensure correct AC level.  \nWill this happen here? I don\u0027t believe so, which is fine as they are only supposed to change the input utility when the system is powered off, I just want to know the behavior so we can address defects appropriately.\n\n2. send clear_faults cmd.\nI assume that is in the clearFaults() call?\n\n3. re-send the pon cmd.\nNot needed here, as hw gpio is already on.\n\n4. clear code cached fault status.\nI assume that is in the clearFaults() call?\n\n5. trace the AC return.\nI think it would be worth adding that, if it\u0027s not in place already (I thought you had added a trace earlier when read_vin goes 0-\u003enon-zero?",
      "revId": "42a83a958d554b81dbf343908e952906b68afedc",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bb0844a8_7db7b8b0",
        "filename": "phosphor-power-supply/power_supply.cpp",
        "patchSetId": 2
      },
      "lineNbr": 578,
      "author": {
        "id": 1000085
      },
      "writtenOn": "2022-03-11T18:36:48Z",
      "side": 1,
      "message": "1. No, I was going to say that check is in the configuration check, but not so sure that will run just due to the voltage bouncing around from 220 to 0 to 110/220.\n\n2. Ideally the CLEAR_FAULTS would go out with that in1_input read down in clearFaults() call, but that is not reliable. Subsequent commit depends on kernel patch http://patchwork.ozlabs.org/project/openbmc/patch/20220311181014.3448936-1-bjwyman@gmail.com/.\n\n3. Correct, not trying to send a/another power supply power on command, as the ON_OFF_CONFIG is configured for GPIO only.\n\n4. Correct, clearFaults() will clear all the fault status variables.\n\n5. I had a trace of the 0 to non-zero, but looks like I lost that. I think I did something wrong there, and was seeing lots of tracing for the voltage it was at, every second. I think I can put something back in for that.",
      "parentUuid": "5e2c8bf2_090b2914",
      "revId": "42a83a958d554b81dbf343908e952906b68afedc",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "677d018a_6a01c576",
        "filename": "phosphor-power-supply/test/power_supply_tests.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1058,
      "author": {
        "id": 1000331
      },
      "writtenOn": "2022-03-11T15:29:25Z",
      "side": 1,
      "message": "It looks like you added this to test the new behavior, but it is commented out?\n\nI would think the new behavior would impact at least one of the automated tests.",
      "revId": "42a83a958d554b81dbf343908e952906b68afedc",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8ea70171_abdabed6",
        "filename": "phosphor-power-supply/test/power_supply_tests.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1058,
      "author": {
        "id": 1000085
      },
      "writtenOn": "2022-03-11T15:41:51Z",
      "side": 1,
      "message": "I misunderstood what I was doing at first. The 3 reads I need are the one below, but it needs to be below the 20V cutoff to keep the faults.\n\nI need to remove this commented out line.",
      "parentUuid": "677d018a_6a01c576",
      "revId": "42a83a958d554b81dbf343908e952906b68afedc",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}